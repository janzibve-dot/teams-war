<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEAMS WAR | TACTICAL FORUM</title>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@700;900&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #0a0a0a; --red: #D32F2F; --green: #388E3C; --text: #fff; }
        body {
            margin: 0; background-color: var(--bg); color: var(--text);
            font-family: 'Chakra Petch', sans-serif;
            background-image: linear-gradient(rgba(0,0,0,0.96), rgba(0,0,0,0.98)), url('https://images.alphacoders.com/133/1331242.png');
            background-size: cover; background-attachment: fixed;
        }

        /* ГИЛЬЗЫ */
        .shell-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: hidden; }
        .shell { position: absolute; width: 30px; height: 20px; background-image: url('shell.png'); background-size: contain; background-repeat: no-repeat; opacity: 0; animation: falling-shell linear infinite; }
        @keyframes falling-shell { 0% { opacity: 0; transform: translateY(-100px) rotate(0deg); } 10% { opacity: 0.5; } 100% { opacity: 0; transform: translateY(110vh) rotate(720deg); } }

        nav { display: flex; justify-content: space-between; padding: 15px 50px; border-bottom: 2px solid var(--red); background: rgba(0,0,0,0.9); position: relative; z-index: 100; }
        .logo span { color: var(--red); }
        .nav-links a { color: white; text-decoration: none; margin-left: 20px; font-weight: bold; font-size: 14px; }

        .forum-container { max-width: 1100px; margin: 40px auto; padding: 0 20px; position: relative; z-index: 10; }
        
        /* КНОПКИ УПРАВЛЕНИЯ */
        .forum-actions { display: flex; gap: 20px; margin-bottom: 40px; }
        .f-btn { flex: 1; padding: 20px; border-radius: 10px; cursor: pointer; text-align: center; font-weight: 900; transition: 0.3s; text-transform: uppercase; }
        .btn-bug { border: 2px solid var(--red); color: var(--red); background: rgba(211, 47, 47, 0.1); }
        .btn-bug:hover { background: var(--red); color: #000; box-shadow: 0 0 30px var(--red); }
        .btn-thread { border: 2px solid var(--green); color: var(--green); background: rgba(56, 142, 60, 0.1); }
        .btn-thread:hover { background: var(--green); color: #000; box-shadow: 0 0 30px var(--green); }

        /* СПИСОК ТЕМ */
        .thread-list { background: rgba(10, 10, 10, 0.8); border: 1px solid #333; border-radius: 15px; overflow: hidden; }
        .thread-item { display: flex; justify-content: space-between; align-items: center; padding: 20px; border-bottom: 1px solid #222; transition: 0.2s; cursor: pointer; }
        .thread-item:hover { background: rgba(255, 255, 255, 0.03); }
        .thread-info h3 { margin: 0; font-size: 18px; color: var(--green); }
        .thread-info span { font-size: 12px; color: #777; }
        .thread-tag { padding: 4px 10px; border-radius: 4px; font-size: 10px; font-weight: 900; text-transform: uppercase; }
        .tag-bug { background: var(--red); color: #000; }
        .tag-idea { background: var(--green); color: #000; }

        /* МОДАЛЬНОЕ ОКНО */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 500; }
        .modal-content { background: #111; border: 2px solid var(--green); padding: 30px; border-radius: 15px; width: 500px; }
        .modal-input { width: 100%; padding: 12px; margin: 10px 0; background: #000; border: 1px solid #444; color: #fff; font-family: 'Chakra Petch'; box-sizing: border-box; }
    </style>
</head>
<body>

    <div class="shell-container">
        <div class="shell" style="left:20%; animation-duration:5s;"></div>
        <div class="shell" style="left:75%; animation-duration:7s;"></div>
    </div>

    <nav>
        <div class="logo"><a href="index.html" style="color:white; text-decoration:none;">TEAMS <span>WAR</span></a></div>
        <div class="nav-links">
            <a href="index.html">ГЛАВНАЯ</a>
            <a href="news.html">НОВОСТИ</a>
            <a href="profile.html">ПРОФИЛЬ</a>
        </div>
    </nav>

    <div class="forum-container">
        <h1 style="text-align:center; font-size: 45px; letter-spacing: 3px; margin-bottom: 40px;">// ЦЕНТР СВЯЗИ //</h1>

        <div class="forum-actions">
            <div class="f-btn btn-bug" onclick="openForm('bug')">Сообщить о баге</div>
            <div class="f-btn btn-thread" onclick="openForm('thread')">Создать ветку / Предложение</div>
        </div>

        <div class="thread-list" id="threadList">
            <div class="thread-item">
                <div class="thread-info">
                    <span class="thread-tag tag-bug">BUG</span>
                    <h3>Проблема с прогрузкой текстур на RTX 2060</h3>
                    <span>Автор: Admin_NiksOn | 08.01.2026</span>
                </div>
                <div style="color: var(--green);">→</div>
            </div>
            </div>
    </div>

    <div class="modal" id="forumModal">
        <div class="modal-content" id="mContent">
            <h2 id="modalTitle">// НОВАЯ ВЕТКА //</h2>
            <input type="text" id="tTitle" class="modal-input" placeholder="Заголовок темы">
            <textarea id="tText" class="modal-input" rows="5" placeholder="Описание проблемы или предложения..."></textarea>
            <button class="f-btn btn-thread" style="width:100%" onclick="saveThread()">ОПУБЛИКОВАТЬ</button>
            <button class="f-btn" style="width:100%; margin-top:10px; border:none; background:transparent; color:#555;" onclick="closeForm()">ОТМЕНА</button>
        </div>
    </div>

    <script>
        let currentType = 'thread';

        function openForm(type) {
            currentType = type;
            const modal = document.getElementById('forumModal');
            const title = document.getElementById('modalTitle');
            const content = document.getElementById('mContent');
            
            modal.style.display = 'flex';
            if(type === 'bug') {
                title.innerText = '// СООБЩИТЬ О БАГЕ //';
                content.style.borderColor = 'var(--red)';
            } else {
                title.innerText = '// НОВАЯ ВЕТКА //';
                content.style.borderColor = 'var(--green)';
            }
        }

        function closeForm() {
            document.getElementById('forumModal').style.display = 'none';
        }

        function saveThread() {
            const title = document.getElementById('tTitle').value;
            const text = document.getElementById('tText').value;
            if(!title || !text) return alert('Заполните все поля!');

            const list = document.getElementById('threadList');
            const newItem = document.createElement('div');
            newItem.className = 'thread-item';
            
            const tagClass = currentType === 'bug' ? 'tag-bug' : 'tag-idea';
            const tagText = currentType === 'bug' ? 'BUG' : 'IDEA';

            newItem.innerHTML = `
                <div class="thread-info">
                    <span class="thread-tag ${tagClass}">${tagText}</span>
                    <h3>${title}</h3>
                    <span>Автор: Игрок | ${new Date().toLocaleDateString()}</span>
                </div>
                <div style="color: var(--green);">→</div>
            `;
            
            list.prepend(newItem); // Добавляем в начало списка
            closeForm();
            alert('Тема успешно создана!');
        }
    </script>
</body>
</html>
